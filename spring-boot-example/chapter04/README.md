# chapter04

---

### 1. HTTP 프로토콜
* 클라이언트: 데이터 혹은 기능을 요청하는 쪽
* 서버: 데이터를 제공하거나 기능을 처리하는 쪽
* HTTP 프로토콜 스펙: 주고받는 데이터 형식 = 메시지  
  => 서버와 클라이언트는 메시지 형태로 요청하고 응답한다. 

* 상태 코드
  * 1XX: 임시 응답을 의미. 클라이언트 요청 성공 + 서버의 프로세스는 진행 중을 의미.(현 상태의 정보를 응답하는 데 사용)
  * 2XX: 성공을 의미. 클라이언트 요청 성공 + 프로세스 정상적으로 처리했음을 의미
  * 3XX: 클라이언트 요청을 완전히 처리하는 데 추가적인 작업ㅇ ㅣ필요함을 의미. 클라이너트가 새로운 리소스를 다시 요청해야 하는 경우(리다이렉션)
  * 4XX: 클라이언트가 요청한 메시지에 에러가 있음을 의미. 문법이 잘못 된 경우(400), 인증/인가 되지 않은 리소스에 요청(401/403), 리소스가 없는 경우(404)
  * 5XX: 클라이언트가 전송한 요청을 처리하는 도중 서버에서 에러가 발생했음을 의미


### 2. spring-boot-starter-web
* server.port: 포트 설정
* server.tomcat.connection-timeout: 커넥션 맺고 서버가 응답하지 않으면 자동으로 끊는 설정
* server.tomcat.threads.max: 스레드 풀 최대값(부하가 높으면 최대값까지 스레드 생성됨)
* server.tomcat.threads.min-spare: 스레드 풀 최소값(부하가 낮으면 최소값까지 줄어듬)
* server.tomcat.accesslog.enabled: 톰캣 서버의 액세스 로그 사용 여부 설정
* server.tomcat.accesslog.suffix: 톰캣 액세스 로그의 파일 이름(접미사-확장자)
* server.tomcat.accesslog.prefix: 톰캣 액세스 로그의 파일 이름(접두사)
* server.tomcat.accesslog.rename-onrotate:날짜가 지난 톰캣 액세스 로그에 타임스탬프를 추가하여 로그 파일 이름 변경하는 설정

### 3. REST-API 설계
* REST-API 구성 요소
  * 리소스(resource): HTTP URI로 표현
  * 행위(verb): 리소스에 대한 행위는 HTTP 메서드로 표현. 리소스를 생성하고 값을 조회, 수정, 삭제하는 행위 등을 표현
  * 표현(representation): 리소스에 대한 행위 내용은 HTTP 메시지 내용으로 표현. JSON 포맷 사용
* 규칙
  * 리소스 이름은 가능하면 동사보다 명사를 사용
    * 동사를 사용하면 행위가 중복되므로 의미가 모호해 질 수 있음
  * 리소스는 계층적 구조를 가짐(계층 관계를 가지므로 복수 형태 사용)
    * eg. 호텔 아이디가 9281726 이고, 객실 아이디가 west-901일 때  
      ```URI /hotels/9281726/rooms/wet-901```
  * GET/POST/PUT/DELETE 를 기본으로 사용(+ PATCH)
    * GET: 리소스 정보 조회
    * POST: 클라이언트가 바디에 전송한 테이터를 정의된 리소스에 생성
    * PUT: 정의된 리소스 객체 전체 수정
    * DELETE: 정의된 리소스를 삭제
    * PATCH: 정의된 리소스의 일부 데이터 수정
